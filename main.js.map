{"version":3,"sources":["webpack:///./node_modules/screenfull/dist/screenfull.js","webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/objects/carousel.ts","webpack:///./src/app/objects/character.ts","webpack:///./src/app/objects/enemy.ts","webpack:///./src/app/objects/menu.ts","webpack:///./src/app/objects/merchantOption.ts","webpack:///./src/app/objects/player.ts","webpack:///./src/app/scenes/boot-scene.ts","webpack:///./src/app/scenes/hud-scene.ts","webpack:///./src/app/scenes/main-menu-scene.ts","webpack:///./src/app/scenes/options-scene.ts","webpack:///./src/app/scenes/preload-scene.ts","webpack:///./src/app/services/card.service.ts","webpack:///./src/app/services/enemyAction.service.ts","webpack:///./src/app/services/merchant.service.ts","webpack:///./src/app/services/round.service.ts","webpack:///./src/app/services/utils.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA,kBAAkB,KAA6B;AAC/C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,OAAO;AACf;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,sEAAsE;AACtE;;AAEA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,CAAC;;;;;;;;;;;;AC5LD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;;;;;ACZA,oL;;;;;;;;;;;ACAA,+DAA+D,+H;;;;;;;;;;;;;;;;;;;;;;;ACAP;AACd;AAEM;AACM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AA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QAExD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QAExD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2B,CAAC,CAAC;QACxD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAC,2BAA2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","file":"main.js","sourcesContent":["/*!\n* screenfull\n* v4.2.0 - 2019-04-01\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\tvar keyboardAllowed = typeof Element !== 'undefined' && 'ALLOW_KEYBOARD_INPUT' in Element;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit (Safari 5.1)\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (elem) {\n\t\t\treturn new Promise(function (resolve) {\n\t\t\t\tvar request = fn.requestFullscreen;\n\n\t\t\t\tvar onFullScreenEntered = function () {\n\t\t\t\t\tthis.off('change', onFullScreenEntered);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\telem = elem || document.documentElement;\n\n\t\t\t\t// Work around Safari 5.1 bug: reports support for\n\t\t\t\t// keyboard in fullscreen even though it doesn't.\n\t\t\t\t// Browser sniffing, since the alternative with\n\t\t\t\t// setTimeout is even worse.\n\t\t\t\tif (/ Version\\/5\\.1(?:\\.\\d+)? Safari\\//.test(navigator.userAgent)) {\n\t\t\t\t\telem[request]();\n\t\t\t\t} else {\n\t\t\t\t\telem[request](keyboardAllowed ? Element.ALLOW_KEYBOARD_INPUT : {});\n\t\t\t\t}\n\n\t\t\t\tthis.on('change', onFullScreenEntered);\n\t\t\t}.bind(this));\n\t\t},\n\t\texit: function () {\n\t\t\treturn new Promise(function (resolve) {\n\t\t\t\tif (!this.isFullscreen) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar onFullScreenExit = function () {\n\t\t\t\t\tthis.off('change', onFullScreenExit);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tdocument[fn.exitFullscreen]();\n\n\t\t\t\tthis.on('change', onFullScreenExit);\n\t\t\t}.bind(this));\n\t\t},\n\t\ttoggle: function (elem) {\n\t\t\treturn this.isFullscreen ? this.exit() : this.request(elem);\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = false;\n\t\t} else {\n\t\t\twindow.screenfull = false;\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tenabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t\t// TODO: remove this in the next major version\n\t\tmodule.exports.default = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<div class=\\\"center\\\" id=\\\"div-phaser\\\" style=\\\"font-family : BIT\\\">\\r\\n\\r\\n</div>\\r\\n\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import {environment} from '../environments/environment';\r\nimport { Component } from '@angular/core';\r\n\r\nimport { BootScene } from \"./scenes/boot-scene\";\r\nimport { PreloadScene } from './scenes/preload-scene';\r\nimport { MainMenuScene } from './scenes/main-menu-scene';\r\nimport { HudScene } from './scenes/hud-scene';\r\nimport { OptionScene } from './scenes/options-scene';\r\n\r\nconst gameConfig: GameConfig = {\r\n  title: environment.title,\r\n  version: environment.version,\r\n  type: Phaser.AUTO,\r\n  width: localStorage.getItem(\"resolution_width\") ? +localStorage.getItem(\"resolution_width\") : 1024,\r\n  height: localStorage.getItem(\"resolution_height\") ? +localStorage.getItem(\"resolution_height\") : 576,\r\n  parent :\"div-phaser\",\r\n  scene: \r\n    [BootScene, PreloadScene, MainMenuScene, HudScene, OptionScene]\r\n};\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\n\r\nexport class AppComponent extends Phaser.Game {\r\n  public game: Phaser.Game;\r\n\r\n  startBtn : any;\r\n  stopBtn : any;\r\n\r\n\r\n  constructor() {\r\n    super(gameConfig);\r\n  }\r\n\r\n  NgOnInit() {\r\n    this.game = new Phaser.Game;    \r\n  \r\n  }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\n\r\nimport { PhaserModule } from 'phaser-component-library';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    PhaserModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { asElementData } from '@angular/core/src/view';\r\n\r\nexport class Carousel {\r\n\r\n    textList : Array<Phaser.GameObjects.Text>;\r\n    isDown : boolean = false;\r\n\r\n    contentToSave : any;\r\n\r\n    constructor(scene, carouselContent, x : number, y : number) {\r\n        \r\n        this.textList = new Array<Phaser.GameObjects.Text>();\r\n\r\n        for(let content of carouselContent.resolutions) {\r\n\r\n            let text = scene.add.text(x = x - 120 , y, content.width + \" x \" + content.height, { color: 'grey', opacity : 0.0 } );\r\n            text.content = content;\r\n            this.textList.push(text);\r\n        }\r\n\r\n        for(let text of this.textList) {\r\n               // text.setOrigin(0.5,0.5);\r\n                y=+100\r\n                text.setInteractive();\r\n\r\n                this.eventLauncher(scene, text);\r\n        }\r\n    }\r\n\r\n    eventLauncher(scene, text) {\r\n        let _this = this;\r\n        let isDown = false;\r\n\r\n        text.on(\"pointerover\", () => {\r\n            text.setStyle({color : \"white\"});\r\n        });\r\n\r\n        text.on(\"pointerout\", () => {\r\n            if(!isDown)\r\n                text.setStyle({color : \"grey\"});\r\n        });\r\n\r\n        text.on('pointerdown', function(){\r\n            for(let content of _this.textList) {\r\n                if(content !== text) {\r\n                    console.log(\"ccc\")\r\n                    content.setStyle({color : \"grey\"});\r\n                }\r\n            }\r\n\r\n            _this.contentToSave = text.content;\r\n            isDown = !isDown;\r\n\r\n            // scene.scene.start(sceneToLoad);\r\n        });\r\n\r\n    }\r\n\r\n    getContentToSave() {\r\n        return this.contentToSave;\r\n    }\r\n\r\n}","import { Effect } from './effect';\r\nimport { HudScene } from '../scenes/hud-scene';\r\n\r\nexport class Character {\r\n\r\n  maxHealth: number;\r\n  currentHealth: number;\r\n  currentAttack: number;\r\n  currentArmor: number;\r\n\r\n  nextAttackEffects: Effect[] = [];\r\n\r\n  isStuned: boolean = false;\r\n  isImmune: boolean = false;\r\n  isProtected: boolean = false;\r\n\r\n  effects: Effect[] = [];\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  getMaxHealth() {\r\n    return this.maxHealth;\r\n  }\r\n\r\n \r\n  setMaxHealth(maxHealth: number) {\r\n    this.maxHealth = maxHealth;\r\n  }\r\n\r\n  getCurrentHealth() {\r\n    return this.currentHealth;\r\n  \r\n  }\r\n\r\n  setCurrentHealth(currentHealth: number) {\r\n    this.currentHealth = currentHealth < this.maxHealth ? currentHealth : this.maxHealth;\r\n  }\r\n  getCurrentAttack() {\r\n    return this.currentAttack;\r\n  }\r\n\r\n  setCurrentAttack(currentAttack: number) {\r\n    this.currentAttack = currentAttack;\r\n  }\r\n  getCurrentArmor() {\r\n    return this.currentArmor;\r\n  }\r\n\r\n  setCurrentArmor(currentArmor: number) {\r\n    this.currentArmor = currentArmor;\r\n  }\r\n\r\n  getNextAttackEffects() {\r\n    return this.nextAttackEffects;\r\n  }\r\n\r\n  setNextAttackEffects(nextAttackEffects: Effect[]) {\r\n    this.nextAttackEffects = nextAttackEffects;\r\n  }\r\n\r\n  getIsStuned() {\r\n    return this.isStuned;\r\n  }\r\n\r\n  setIsStuned(isStuned: boolean) {\r\n    this.isStuned = isStuned;\r\n  }\r\n\r\n  getIsImmune() {\r\n    return this.isImmune;\r\n  }\r\n\r\n  setIsImmune(isImmune: boolean) {\r\n    this.isImmune = isImmune;\r\n  }\r\n\r\n  getIsProtected() {\r\n    return this.isProtected;\r\n  }\r\n\r\n  setIsProtected(isProtected: boolean) {\r\n    this.isProtected = isProtected;\r\n  }\r\n\r\n  getEffects() {\r\n    return this.effects;\r\n  }\r\n\r\n  setEffects(effects: Effect[]) {\r\n    this.effects = effects;\r\n  }\r\n}\r\n","import { Character } from './character';\r\nimport {EnemyAction} from './enemyAction';\r\n\r\nexport class Enemy extends Character {\r\n\r\n      actions: EnemyAction[];\r\n      level: number;\r\n      name: string;\r\n      text: string;\r\n      frame: number;\r\n\r\n\r\n\r\n    constructor(jsonObj : any) {\r\n        super();\r\n\r\n        this.actions = jsonObj.actions;\r\n        this.level = jsonObj.level;\r\n        this.frame = jsonObj.frame;\r\n        this.name = jsonObj.name;\r\n        this.text = jsonObj.text;\r\n        this.maxHealth = jsonObj.maxHealth;\r\n        this.currentHealth = jsonObj.maxHealth;\r\n        this.currentAttack = 1;\r\n        this.currentArmor = 0;\r\n    \r\n\r\n    }\r\n\r\n    getName() {\r\n      return this.name;\r\n    }\r\n\r\n    getFrame() {\r\n      return this.frame;\r\n    }\r\n\r\n  }\r\n","export class Menu  {\r\n\r\n    menu : Phaser.GameObjects.Text;\r\n\r\n    alreadyStart : boolean = false;\r\n\r\n    constructor(scene , x : number, y : number, text : string, sceneToLoad : string) {\r\n        \r\n        this.menu = scene.add.text(x , y, text, { color: 'grey', opacity : 0.0 } );\r\n        this.menu.setInteractive();\r\n\r\n        \r\n\r\n        this.eventLauncher(scene, sceneToLoad);\r\n    }\r\n\r\n    getMenuText() : Phaser.GameObjects.Text{\r\n        return this.menu;\r\n    }\r\n\r\n\r\n    eventLauncher(scene, sceneToLoad) {\r\n        let _this = this;\r\n\r\n        this.menu.on(\"pointerover\", () => {\r\n            _this.menu.setStyle({color : \"white\"});\r\n        });\r\n\r\n        this.menu.on(\"pointerout\", () => {\r\n            _this.menu.setStyle({color : \"grey\"});\r\n        });\r\n\r\n        if(sceneToLoad) {\r\n            \r\n            this.menu.on('pointerdown', function(){\r\n                if(scene.scene.isActive(sceneToLoad)) {\r\n\r\n                    scene.scene.restart(sceneToLoad);\r\n                } else {\r\n                    scene.scene.start(sceneToLoad);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n}","import { Card } from './card';\r\n\r\nexport class MerchantOption {\r\n  text: String;\r\n  cards: Card[];\r\n  cardsHidden: boolean;\r\n  cost: number;\r\n\r\n  constructor(obj: any) {\r\n    this.text = obj.text;\r\n    this.cards = obj.cards;\r\n    this.cardsHidden = obj.cardsHidden;\r\n    this.cost = obj.cost;\r\n  }\r\n}\r\n","import { Character } from \"./character\";\r\nimport { Card } from \"./card\";\r\nimport { Effect } from './effect';\r\n\r\nexport class Player extends Character {\r\n\r\n  deck: Card[] = [];\r\n  hand : Card[] = [];\r\n  discard: Card[] = [];\r\n\r\n  maxActionPoint: number;\r\n  currentActionPoint: number;\r\n\r\n  constructor(jsonObject: any) {\r\n    super();\r\n\r\n    this.maxHealth = jsonObject.maxHealth;\r\n    this.currentHealth = jsonObject.maxHealth;\r\n    this.currentAttack = 1;\r\n    this.currentArmor = 0;\r\n\r\n    this.maxActionPoint = jsonObject.maxAction;\r\n    this.currentActionPoint = jsonObject.maxAction;\r\n  }\r\n\r\n  getDeck() {\r\n    return this.deck;\r\n  }\r\n\r\n  setDeck(deck: Card[]) {\r\n    this.deck = deck;\r\n  }\r\n\r\n  getHand() {\r\n    return this.hand;\r\n  }\r\n\r\n  setHand(hand: Card[]) {\r\n    this.hand = hand;\r\n  }\r\n\r\n  getDiscard() {\r\n    return this.discard;\r\n  }\r\n\r\n  setDiscard(discard: Card[]) {\r\n    this.discard = discard;\r\n  }\r\n\r\n  getMaxActionPoint() {\r\n    return this.maxActionPoint;\r\n  }\r\n\r\n  setMaxActionPoint(maxActionPoint: number) {\r\n    this.maxActionPoint = maxActionPoint;\r\n  }\r\n\r\n  getCurrentActionPoint() {\r\n    return this.currentActionPoint;\r\n  }\r\n\r\n  setCurrentActionPoint(currentActionPoint: number) {\r\n    this.currentActionPoint = currentActionPoint;\r\n  }\r\n\r\n}\r\n","import {ROOT_CONST} from \"../const/root.const\"\r\n\r\nexport class BootScene extends Phaser.Scene {\r\n\r\n    constructor() {\r\n        super({\r\n            key : \"BootScene\"\r\n        });\r\n    }\r\n\r\n    preload() : void {\r\n        this.load.image(\"loading\",\"assets/logo/logo.png\");\r\n\r\n    }\r\n\r\n    create() : void {\r\n        this.scene.start(\"PreloadScene\");\r\n\r\n     }\r\n\r\n    update() : void {\r\n    }\r\n}","import { Player } from '../objects/player';\r\nimport { Card } from '../objects/card';\r\nimport { CardService } from '../services/card.service';\r\nimport { readPatchedData } from '@angular/core/src/render3/util';\r\nimport { Enemy } from '../objects/enemy';\r\nimport { RoundService } from '../services/round.service';\r\nimport { Utils } from '../services/utils';\r\nimport { MerchantService } from '../services/merchant.service';\r\nimport { Options } from 'selenium-webdriver';\r\nimport { OptionScene } from './options-scene';\r\nvar sprite;\r\nvar heroSprite;\r\nvar enemySprite;\r\nvar attackHeroSprite;\r\nvar rect;\r\nvar graph;\r\nvar lifeText;\r\nvar armorText;\r\nvar attackText;\r\nvar handText;\r\nvar journeyX = 0;\r\nvar enemyName;\r\nvar enemyFrame;\r\nvar spriteJourney ;\r\nvar animEnemy;\r\nvar currentArmor=0;\r\nvar waitShow=0;\r\nvar animEnemyAttack;\r\nvar saveCurrentArmor=0;\r\nvar saveCurrentHealth=0;\r\nvar saveCurrentAttack=0;\r\nvar parchment;\r\nvar statutIsplayed;\r\nvar bulleH;\r\nvar bulle;\r\nvar Option1;\r\nvar Option2;\r\nvar Option3;\r\nvar OptionMerchant;\r\nvar nb_deck;\r\n\r\nexport class HudScene extends Phaser.Scene {\r\n\r\n    card : Card;\r\n    player : Player;\r\n    fakePlayer : Enemy;\r\n\r\n    cards : Card[];\r\n    deck : Card[];\r\n\r\n    ratio : number;\r\n    width : number;\r\n    height : number;\r\n\r\n    initCard : number = -750;\r\n\r\n    handCardSprites : Phaser.GameObjects.Sprite[] = [];\r\n\r\n    parchment : Phaser.GameObjects.Image;\r\n\r\n    px : string;\r\n\r\n    \r\n\r\n    _cardService = new CardService();\r\n    _roundService = new RoundService();\r\n    _merchantService = new MerchantService();\r\n\r\n\r\n    constructor() {\r\n        super({\r\n            key : \"HudScene\"\r\n        })\r\n\r\n        this.ratio = Number(localStorage.getItem(\"resolution_ratio\"));\r\n\r\n    }\r\n\r\n    create() : void {\r\n\r\n        if(!this.ratio) {\r\n            this.ratio = 1.875;\r\n        }\r\n\r\n        if(this.ratio == 1.00) {\r\n            this.px = \"30px\"\r\n        } else if(this.ratio == 1.50) {\r\n            this.px = \"20px\"\r\n\r\n        } else {\r\n            this.px = \"16px\"\r\n\r\n        }\r\n        let _this = this;\r\n\r\n        this.width = this.game.config.width as number;\r\n        this.height = this.game.config.height as number;\r\n\r\n        this.player = new Player(this.cache.json.get(\"player\")); // Add the player\r\n\r\n        this.fakePlayer = new Enemy(this.cache.json.get(\"enemy\")[journeyX][Utils.getRandomInt(this.cache.json.get(\"enemy\")[journeyX].length)]); // Add the enemy (n day, 0/1)\r\n         enemyName = this.fakePlayer.getName();\r\n         enemyFrame = this.fakePlayer.getFrame();\r\n\r\n        this.cards = new Array<Card>();\r\n\r\n        for(let cardObj of this.cache.json.get(\"cards\")) {\r\n            this.cards.push(cardObj);\r\n        }\r\n        \r\n        var theme = this.sound.add(\"game\");\r\n        theme.play('',{loop : true});\r\n       \r\n        this.deck = this._cardService.createDeck(this.cards);\r\n\r\n        this.player.setDeck(this.deck);\r\n\r\n        this.cameras.main.startFollow(this.add.text(0, 0, 'the deck is ' + this.deck.toString()).setOrigin(0.5), false);\r\n\r\n        this.createBackground(); // Creat background mthod\r\n        this.createProgressbar(); // Creat progreess bar mthod\r\n        this.createHero(); // Creat Hero mthod\r\n        this.createEnemy(enemyName,enemyFrame); // Creat Hero mthod\r\n        this.createEndRound(_this); // Creat end round mthod\r\n        this.createJourney(journeyX); //Update journey\r\n        this.createDeck(); // Creat deck mthod\r\n\r\n\r\n        this.parchment = this.add.image(-350 / this.ratio , -100 / this.ratio , 'parchment');\r\n        this.parchment.setDisplaySize(350 / this.ratio, 200 / this.ratio);\r\n        this.parchment.alpha=0.8;\r\n        this.parchment.setVisible(false);\r\n\r\n        this._roundService.startRoundPlayer(this.player, this.fakePlayer);\r\n        this.addCardInHand(_this);\r\n    }\r\n\r\n    private createBackground() {\r\n\r\n        var bgAnimation = this.anims.create({\r\n            key: 'run',\r\n            frames: this.anims.generateFrameNumbers('background', { start: 1, end: 7 }),\r\n            frameRate: 5,\r\n            repeat : -1,\r\n            yoyo : true\r\n\r\n\r\n        });\r\n        sprite = this.add.sprite(0 / this.ratio, 0 / this.ratio, 'background');\r\n        sprite.setDisplaySize(this.width, this.height);\r\n        sprite.play('run');\r\n    }\r\n\r\n    private createProgressbar() {\r\n\r\n        var health = this.add.image(-920 / this.ratio , -500 / this.ratio , 'coeur');\r\n        health.setDisplaySize(70 / this.ratio, 57 / this.ratio);\r\n        var armor = this.add.image(-920 / this.ratio , -400 / this.ratio , 'armor');\r\n        armor.setDisplaySize(60 / this.ratio, 49 / this.ratio);\r\n        var attack = this.add.image(-920 / this.ratio , -300 / this.ratio , 'attack');\r\n        attack.setDisplaySize(70 / this.ratio, 70 / this.ratio);\r\n        var hand = this.add.image(-920 / this.ratio , -200 / this.ratio , 'hand'); \r\n        hand.setDisplaySize(70 / this.ratio, 57 / this.ratio);\r\n\r\n          lifeText = this.add.text(-870 / this.ratio , -500 / this.ratio, ''+this.player.getCurrentHealth(), {\r\n            fontfamily : 'BIT',\r\n            fontSize: '32px',\r\n            fill: \"white\",\r\n            align: \"center\"\r\n        });\r\n\r\n         armorText = this.add.text(-870 / this.ratio , -400 / this.ratio, ''+this.player.getCurrentArmor(), {\r\n            fontfamily : 'BIT',\r\n            fontSize: '32px',\r\n            fill: \"white\",\r\n            align: \"center\"\r\n        });\r\n         attackText = this.add.text(-870 / this.ratio , -300 / this.ratio, ''+this.player.getCurrentAttack(), {\r\n            fontfamily : 'BIT',\r\n            fontSize: '32px',\r\n            fill: \"white\",\r\n            align: \"center\"\r\n        });\r\n        handText = this.add.text(-870 / this.ratio , -200 / this.ratio, ''+this.player.getCurrentActionPoint(), {\r\n            fontfamily : 'BIT',\r\n            fontSize: '32px',\r\n            fill: \"white\",\r\n            align: \"center\"\r\n        });\r\n    }\r\n\r\n    private addCardInHand(_this: this) {  // Add card + Event on click card\r\n        this.initCard = -750;\r\n        for (let handCard of this.player.getHand()) {\r\n            sprite = this.add.sprite((this.initCard += 250) / this.ratio, 400 / this.ratio, handCard.spriteUrl) as any;\r\n            sprite.setDisplaySize(200 / this.ratio, 200 / this.ratio);\r\n            sprite.setInteractive();\r\n            sprite.card = handCard;\r\n            this.handCardSprites.push(sprite);\r\n        }\r\n        for (let cardSprite of this.handCardSprites) {\r\n\r\n            let textCard = this.make.text({\r\n                x: -470 / this.ratio,\r\n                y: -140 / this.ratio,\r\n                text: (cardSprite as any).card.description,\r\n                style: {\r\n                    font: 'bold 16px Arial',\r\n                    fill: 'black',\r\n                    textAlign : 'center',\r\n                    wordWrap: { width: 280 / this.ratio }\r\n                }\r\n            });\r\n\r\n\r\n            textCard.setVisible(false);\r\n\r\n\r\n            cardSprite.on(\"pointerdown\", () => {\r\n                statutIsplayed = _this._cardService.isPlayed(_this.player, (cardSprite as any).card);\r\n                currentArmor = this.player.getCurrentArmor();\r\n\r\n                if(!statutIsplayed)\r\n                {\r\n                    if(this.player.getIsStuned())\r\n                    {\r\n                        var noselect = this.sound.add(\"noselect\");\r\n                        noselect.play();\r\n                       \r\n                        var text = this.add.text(-200 / this.ratio , -400 / this.ratio, 'STTTTUUUUNNNNNN', {\r\n                            font : 'Arial',\r\n                            fontSize: '64px',\r\n                            fill: \"white\",\r\n                            align: \"center\"\r\n    \r\n                        });\r\n                         text.setVisible(true);\r\n                         setTimeout(() => {\r\n                            text.destroy();\r\n                         }, 1000);\r\n                        \r\n\r\n                    }else{\r\n                        var noselect2 = this.sound.add(\"noselect\");\r\n                        noselect2.play();\r\n\r\n                        var text = this.add.text(-200 / this.ratio , -400 / this.ratio, 'You have no point of action !!!', {\r\n                            font : 'Britannic Bold',\r\n                            fontSize: '64px',\r\n                            fill: \"white\",\r\n                            align: \"center\"\r\n    \r\n                        });\r\n                        setTimeout(() => {\r\n                            text.destroy();\r\n                         }, 500);\r\n                         \r\n\r\n\r\n                    }\r\n                    return;\r\n                } else {\r\n\r\n                    var cardmp3 = this.sound.add(\"carte\");\r\n                    cardmp3.play();\r\n\r\n                    _this.parchment.setVisible(false);\r\n                    textCard.setVisible(false);\r\n                    cardSprite.destroy();\r\n\r\n                }\r\n\r\n                if(saveCurrentArmor != this.player.getCurrentArmor())\r\n                {\r\n                    //boost_armor\r\n                    var armormp3 = this.sound.add(\"boost1\");\r\n                    armormp3.play();\r\n\r\n                    var configBoostArmor = {\r\n                        key: 'boostArmor',\r\n                        frames: this.anims.generateFrameNumbers(\"boost_armor\", { start: 0, end: 10 }),\r\n                        frameRate: 30,\r\n\r\n                    };\r\n\r\n                    this.anims.create(configBoostArmor);\r\n\r\n                    var boostArmor = this.add.sprite(-800 / this.ratio, 150 / this.ratio, \"boost_armor\");\r\n                    boostArmor.setDisplaySize(250 / this.ratio, 250 / this.ratio);\r\n                    boostArmor.alpha = 0.5;\r\n                    boostArmor.anims.play('boostArmor');\r\n\r\n                    setTimeout(() => {\r\n                        boostArmor.destroy();\r\n                     }, 500);\r\n\r\n                }\r\n\r\n                if(saveCurrentHealth < this.player.getCurrentHealth())\r\n                {\r\n                    //boost_Health\r\n\r\n                    var healthmp3 = this.sound.add(\"boost2\");\r\n                    healthmp3.play();\r\n\r\n                    var configBoostHealth = {\r\n                        key: 'boostHealth',\r\n                        frames: this.anims.generateFrameNumbers(\"boost_health\", { start: 0, end: 10 }),\r\n                        frameRate: 30,\r\n\r\n                    };\r\n\r\n                    this.anims.create(configBoostHealth);\r\n\r\n                    var boostHealth = this.add.sprite(-800 / this.ratio, 150 / this.ratio, \"boost_health\");\r\n                    boostHealth.setDisplaySize(250 / this.ratio, 250 / this.ratio);\r\n                    boostHealth.alpha = 0.5;\r\n                    boostHealth.anims.play('boostHealth');\r\n\r\n                    setTimeout(() => {\r\n                        boostHealth.destroy();\r\n                     }, 500);\r\n\r\n                }\r\n                if(saveCurrentAttack < this.player.getCurrentAttack())\r\n                {\r\n                    //boost_attack\r\n                    var attackmp3 = this.sound.add(\"boost3\");\r\n                    attackmp3.play();\r\n\r\n                    var configBoostAttack = {\r\n                        key: 'boostAttack',\r\n                        frames: this.anims.generateFrameNumbers(\"boost_attack\", { start: 0, end: 10 }),\r\n                        frameRate: 30,\r\n\r\n                    };\r\n\r\n                    this.anims.create(configBoostAttack);\r\n\r\n                    var boostAttack = this.add.sprite(-800 / this.ratio, 150 / this.ratio, \"boost_attack\");\r\n                    boostAttack.setDisplaySize(250 / this.ratio, 250 / this.ratio);\r\n                    boostAttack.alpha = 0.5;\r\n                    boostAttack.anims.play('boostAttack');\r\n\r\n                    setTimeout(() => {\r\n                        boostAttack.destroy();\r\n                     }, 500);\r\n\r\n                }\r\n                saveCurrentArmor = this.player.getCurrentArmor();\r\n                saveCurrentHealth = this.player.getCurrentHealth();\r\n                saveCurrentAttack = this.player.getCurrentAttack();\r\n\r\n            });\r\n            cardSprite.on('pointerover', function (event, gameObjects) {\r\n\r\n                    _this.parchment.setVisible(true);\r\n                    textCard.setVisible(true);\r\n\r\n\r\n            });\r\n            cardSprite.on('pointerout', function (event, gameObjects) {\r\n\r\n                    _this.parchment.setVisible(false);\r\n                    textCard.setVisible(false);\r\n\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    private createHero() {\r\n\r\n        var configHero = {\r\n            key: 'hero',\r\n            frames: this.anims.generateFrameNumbers('hero_idle', { start: 0, end: 2 }),\r\n            frameRate: 5,\r\n            repeat : -1\r\n            //yoyo : true\r\n\r\n        };\r\n        var anim = this.anims.create(configHero);\r\n\r\n        heroSprite = this.add.sprite(-800 / this.ratio, 150 / this.ratio, 'hero_idle').setScale(1);\r\n        heroSprite.setDisplaySize(200 / this.ratio, 300 / this.ratio);\r\n        heroSprite.anims.play('hero');\r\n\r\n\r\n        var configAttackHero = {\r\n            key: 'heroAttack',\r\n            frames: this.anims.generateFrameNumbers('hero_attack', { start: 0, end: 6 }),\r\n            frameRate: 10,\r\n            //repeat : -1,\r\n            yoyo : true\r\n\r\n        };\r\n        this.anims.create(configAttackHero);\r\n\r\n    }\r\n\r\n    private createEnemy(name : string, frame : number){     //Create automatick enemy from json (because different frame of sprite enemy)\r\n\r\n   ///////////ATTENTION ICI PEUT SPAWN UN MARCHANT => CONDIFTION POUR AFFICHAGE\r\n        if(this.fakePlayer.getName() == \"Merchant\")\r\n        {\r\n            var marchentOption = this._merchantService.createOptions(this.cards);\r\n            bulle = this.add.image(390 / this.ratio , -120 / this.ratio , 'bulle_merchant');\r\n            bulle.setDisplaySize((700) / this.ratio, (600) / this.ratio);\r\n            OptionMerchant = this.add.text(170 / this.ratio , -350 / this.ratio, marchentOption.text , {\r\n            \r\n                fontfamily : 'Arial Black',\r\n                fontSize: this.px,\r\n                fill: \"black\",\r\n                align: \"center\",\r\n                wordWrap: { width: 450 / this.ratio }\r\n\r\n            });\r\n\r\n            bulleH = this.add.image(-400 / this.ratio , -120 / this.ratio , 'bulle_hero');\r\n            bulleH.setDisplaySize((700) / this.ratio, (400) / this.ratio);\r\n             Option1 = this.add.text(-650 / this.ratio , -200 / this.ratio, \"Option : 1   -1 Health\\n\" , {\r\n                fontfamily : 'Arial',\r\n                fontWeight : 'bold',\r\n                fontSize: this.px,\r\n                fill: \"purple\",\r\n                align: \"center\",\r\n               // wordWrap: { width: 450 / this.ratio }\r\n            });\r\n            Option1.setInteractive();\r\n            Option1.on(\"pointerdown\", () => { \r\n                this._merchantService.chooseOption(this.player,marchentOption.options[0]);\r\n                Option1.destroy();\r\n            });\r\n             Option2 =  this.add.text(-650 / this.ratio , -150 / this.ratio, \"Option : 2   -2 Health\\n\" , {\r\n                fontfamily : 'Arial',\r\n                fontWeight : 'bold',\r\n                fontSize: this.px,\r\n                fill: \"black\",\r\n                align: \"center\",\r\n               // wordWrap: { width: 450 / this.ratio }\r\n            });\r\n            Option2.setInteractive();\r\n            Option2.on(\"pointerdown\", () => { \r\n                this._merchantService.chooseOption(this.player,marchentOption.options[1]);\r\n                Option2.destroy();\r\n            });\r\n             Option3 = this.add.text(-650 / this.ratio , -100 / this.ratio, \"Option : 3   -3 Health\\n\" , {\r\n                fontfamily : 'Arial',\r\n                fontWeight : 'bold',\r\n                fontSize: this.px,\r\n                fill: \"black\",\r\n                align: \"center\",\r\n               // wordWrap: { width: 450 / this.ratio }\r\n            });\r\n            Option3.setInteractive();\r\n            Option3.on(\"pointerdown\", () => { \r\n                this._merchantService.chooseOption(this.player,marchentOption.options[2]);\r\n                Option3.destroy();\r\n\r\n            });\r\n\r\n        }\r\n\r\n        if (journeyX >0)\r\n    {\r\n        enemySprite.destroy();\r\n        animEnemy.destroy();\r\n    }\r\n        var configEnemy = {\r\n            key: 'enemy',\r\n            frames: this.anims.generateFrameNumbers(name, { start: 0, end: frame }),  //end: frame = nb frame of enemy sprite name = enemy random\r\n            frameRate: 6,\r\n            repeat : -1\r\n        };\r\n\r\n        animEnemy =this.anims.create(configEnemy);\r\n        enemySprite = this.add.sprite(0 / this.ratio, 150 / this.ratio, name);\r\n        enemySprite.setDisplaySize((enemySprite.width/2) / this.ratio, (enemySprite.height/2) / this.ratio);\r\n        enemySprite.anims.play('enemy');\r\n\r\n\r\n    }\r\n\r\n    private createEndRound(_this: this) {  // END of ROUND + Event on click end turn\r\n\r\n        handText.text = this.player.getCurrentActionPoint();\r\n        var endRound = this.add.image(760 / this.ratio , 250 / this.ratio , 'endround');\r\n        endRound.setDisplaySize(200 / this.ratio, 100 / this.ratio);\r\n        endRound.setInteractive();\r\n        endRound.on(\"pointerdown\", ()=> {\r\n\r\n            this._roundService.endRoundPlayer(this.player,this.fakePlayer); // END ROUND PLAYER\r\n\r\n            if(this.fakePlayer.getCurrentHealth() <= 0 || this.fakePlayer.getName() === \"Merchant\") {\r\n                \r\n                if (this.fakePlayer.getName() === \"Merchant\") {\r\n                    \r\n                    bulle.destroy();\r\n                    bulleH.destroy();\r\n                    OptionMerchant.destroy();\r\n                    Option1.destroy();\r\n                    Option2.destroy();\r\n                    Option3.destroy();\r\n                }\r\n\r\n                let text = this.add.text(0,0,\"Day \" + journeyX);\r\n\r\n                text.setVisible(false);\r\n\r\n                this.cameras.main.fadeOut(3000,1,1,1,() => {\r\n                }, this);\r\n\r\n                this.cameras.main.on(\"camerafadeoutcomplete\", () => {\r\n                    text.setVisible(true);\r\n\r\n                    journeyX++;\r\n                    this.createJourney(journeyX); // NEW JOURNEY\r\n    \r\n                    this._roundService.initPlayerForBattle(this.player);\r\n    \r\n                    this.fakePlayer = new Enemy(this.cache.json.get(\"enemy\")[journeyX][Utils.getRandomInt(this.cache.json.get(\"enemy\")[journeyX].length)]); // Add the enemy (n day, 0/1)\r\n                     enemyName = this.fakePlayer.getName();\r\n                     enemyFrame = this.fakePlayer.getFrame();\r\n                    this.createEnemy(enemyName,enemyFrame);   // NEW ENEMY or MERCHENT\r\n                    this._roundService.startRoundPlayer(this.player,this.fakePlayer); // START ROUND OF PLAYER\r\n                    this.initCard  = -750;\r\n                    this.deleteCards(); // DELETE HAND CARDS\r\n                    this.addCardInHand(_this); // NEW HAND\r\n                    saveCurrentArmor = this.player.getCurrentArmor();\r\n                    saveCurrentHealth = this.player.getCurrentHealth();\r\n                    saveCurrentAttack = this.player.getCurrentAttack();\r\n\r\n                    _this.cameras.main.fadeIn(3000,1,1,1,() => {}, this);\r\n                });\r\n                this.cameras.main.on(\"camerafadeincomplete\", () => {\r\n                    text.setVisible(false);\r\n                });\r\n                \r\n\r\n                return;\r\n\r\n            } \r\n\r\n\r\n           this._roundService.startRoundEnemy(this.player,this.fakePlayer);  // START ROUND OF ENEMY\r\n           this._roundService.roundEnemy(this.fakePlayer); // ROUND OF ENEMY\r\n\r\n            if (this.player.getCurrentHealth() <= 0) {\r\n                journeyX = 0;\r\n                this.scene.start(\"MainMenuScene\");\r\n            }\r\n\r\n            var attackmp3 = this.sound.add(\"monster_attack\");\r\n           \r\n            setTimeout(() => {\r\n             attackmp3.play();\r\n\r\n           if(this.fakePlayer.getCurrentAttack() > 0){  // SPRITE ATTACK ENEMY\r\n            setTimeout(() => {\r\n                this.attackEnemy()\r\n             }, 1500);\r\n             \r\n           }\r\n        }, 500);\r\n           this._roundService.endRoundEnemy(this.player,this.fakePlayer);\r\n           if(this.fakePlayer.getName() === \"Merchant\")\r\n           {\r\n              \r\n               // si player est  mort ???\r\n\r\n                // this._roundService.endBatlle();  \r\n\r\n                journeyX++;\r\n                this.createJourney(journeyX);\r\n\r\n                this._roundService.initPlayerForBattle(this.player);\r\n\r\n                this.fakePlayer = new Enemy(this.cache.json.get(\"enemy\")[journeyX][Utils.getRandomInt(this.cache.json.get(\"enemy\")[journeyX].length)]); // Add the enemy (n day, 0/1)\r\n                enemyName = this.fakePlayer.getName();\r\n                enemyFrame = this.fakePlayer.getFrame();\r\n                this.createEnemy(enemyName,enemyFrame);\r\n                this._roundService.startRoundPlayer(this.player,this.fakePlayer);\r\n                this.initCard  = -750;\r\n                this.deleteCards();\r\n                this.addCardInHand(_this);\r\n                saveCurrentArmor = this.player.getCurrentArmor();\r\n                saveCurrentHealth = this.player.getCurrentHealth();\r\n                saveCurrentAttack = this.player.getCurrentAttack();\r\n                return;\r\n           } \r\n\r\n\r\n\r\n           this._roundService.startRoundPlayer(this.player,this.fakePlayer);\r\n           this.initCard  = -750;\r\n           this.deleteCards();\r\n           this.addCardInHand(_this);\r\n           saveCurrentArmor = this.player.getCurrentArmor();\r\n           saveCurrentHealth = this.player.getCurrentHealth();\r\n           saveCurrentAttack = this.player.getCurrentAttack();\r\n\r\n\r\n\r\n\r\n          _this.attackHero();\r\n        })\r\n\r\n    }\r\n\r\n     private attackHero(){\r\n\r\n        var attackmp3 = this.sound.add(\"epee\");\r\n        attackmp3.play();\r\n        \r\n        heroSprite.visible = false;\r\n\r\n        attackHeroSprite = this.add.sprite(-800 / this.ratio, 150 / this.ratio, 'hero_attack').setScale(1);\r\n        attackHeroSprite.setDisplaySize(200 / this.ratio, 300 / this.ratio);\r\n        attackHeroSprite.anims.play('heroAttack');\r\n\r\n        attackHeroSprite.x += 200;\r\n        setTimeout(() => {\r\n            attackHeroSprite.x -= 200;\r\n            heroSprite.visible = true;\r\n            attackHeroSprite.visible = false;\r\n         }, 1000);\r\n\r\n         var configEnemyAnim = {\r\n            key: 'enemyDamage',\r\n            frames: this.anims.generateFrameNumbers(\"anim_attack_enemy\", { start: 0, end: 11 }),  //end: frame = nb frame of enemy sprite name = enemy random\r\n            frameRate: 30,\r\n            //repeat : -1\r\n        };\r\n\r\n        animEnemyAttack =this.anims.create(configEnemyAnim);\r\n\r\n        var damage = this.add.sprite(0 / this.ratio, 150 / this.ratio, \"anim_attack_enemy\");\r\n        damage.setDisplaySize(250 / this.ratio, 250 / this.ratio);\r\n        damage.anims.play('enemyDamage');\r\n\r\n        setTimeout(() => {\r\n            damage.destroy();\r\n         }, 1200);\r\n\r\n    }\r\n\r\n    private attackEnemy(){\r\n\r\n       \r\n      //  setTimeout(() => {\r\n           \r\n\r\n        enemySprite.x -= 200;\r\n        setTimeout(() => {\r\n            enemySprite.x += 200;\r\n         }, 1000);\r\n\r\n         var configHeroAnim = {\r\n            key: 'heroDamage',\r\n            frames: this.anims.generateFrameNumbers(\"anim_attack_hero\", { start: 0, end: 11 }),  //end: frame = nb frame of enemy sprite name = enemy random\r\n            frameRate: 30,\r\n            //repeat : -1\r\n        };\r\n\r\n        var animHeroAttack =this.anims.create(configHeroAnim);\r\n\r\n        var damageHero = this.add.sprite(-800 / this.ratio, 150 / this.ratio, \"anim_attack_hero\");\r\n        damageHero.setDisplaySize(250 / this.ratio, 250 / this.ratio);\r\n        damageHero.anims.play('heroDamage');\r\n\r\n        setTimeout(() => {\r\n            damageHero.destroy();\r\n         }, 1200);\r\n\r\n       // }, 1500);\r\n    }\r\n\r\n    private createJourney(journey : number){\r\n\r\n    if (journeyX >0)\r\n    {\r\n        spriteJourney.destroy();\r\n    }\r\n      spriteJourney = this.add.sprite(0 / this.ratio , -473 / this.ratio , 'journey',journey);\r\n      spriteJourney.setDisplaySize(1000 / this.ratio, 100 / this.ratio);\r\n    }\r\n\r\n    private deleteCards(){\r\n\r\n        for (let cardSprite of this.handCardSprites) {\r\n\r\n\r\n                cardSprite.destroy();\r\n        }\r\n\r\n    }\r\n\r\n    private createDeck(){\r\n\r\n        \r\n\r\n        var deck = this.add.image(760 / this.ratio , 410 / this.ratio , 'deck');\r\n        deck.setDisplaySize(200 / this.ratio, 200 / this.ratio);\r\n\r\n        nb_deck = this.add.text(800 / this.ratio , 450 / this.ratio, ''+this.player.getDeck().length, {\r\n            fontfamily : 'BIT',\r\n            fontSize: '32px',\r\n            fill: \"white\",\r\n            align: \"center\"\r\n        });\r\n    }\r\n\r\n    update() : void {\r\n\r\n    lifeText.text = this.player.getCurrentHealth();\r\n    armorText.text = this.player.getCurrentArmor();\r\n    attackText.text = this.player.getCurrentAttack();\r\n    nb_deck.text = this.player.getDeck().length;\r\n\r\n    if(statutIsplayed){\r\n    handText.text = this.player.getCurrentActionPoint();\r\n    }\r\n    // if(sprite.input.pointerOver())\r\n    // {\r\n\r\n    //     parchment.visible = true;\r\n    // }\r\n    }\r\n\r\n    cardClicked() {\r\n\r\n    }\r\n\r\n    endTurn() {\r\n\r\n    }\r\n\r\n    rerollTurn() {\r\n\r\n    }\r\n}\r\n","import { Menu } from '../objects/menu';\r\n\r\nimport screenfull, { Screenfull } from 'screenfull';\r\n\r\n\r\nexport class MainMenuScene extends Phaser.Scene {\r\n\r\n    launchMenu : Menu;\r\n    optionMenu : Menu;\r\n    fullscreenMenu : Menu;\r\n\r\n    canvas : HTMLCanvasElement;\r\n\r\n\r\n    constructor(){\r\n        super({\r\n            key : \"MainMenuScene\"\r\n        })\r\n    }\r\n\r\n    create() : void {\r\n\r\n\r\n        let _this = this;\r\n\r\n        this.canvas = document.getElementsByTagName(\"canvas\").item(0);\r\n\r\n        \r\n\r\n        if (!document.fullscreenEnabled) {\r\n          return;\r\n        }\r\n        \r\n        this.launchMenu = new Menu(this, this.game.config.width as number / 2, this.game.config.height as number / 2, \"Start game\", \"HudScene\");\r\n        this.launchMenu.getMenuText().setInteractive();\r\n\r\n        this.optionMenu = new Menu(this, this.game.config.width as number / 2, (this.game.config.height as number / 2) + 20, \"options\", \"OptionScene\");\r\n        this.optionMenu.getMenuText().setInteractive();\r\n\r\n        this.fullscreenMenu = new Menu(this, 20, 20, \"fullscreen\", null);\r\n\r\n        this.canvas.onfullscreenchange = (event) => {\r\n            console.log(\"FULLSCREEN CHANGE\");\r\n            console.log(event);\r\n\r\n            event.stopPropagation();\r\n\r\n            return null;\r\n        }\r\n\r\n        this.canvas.onfullscreenerror = (event) => {\r\n            console.log(\"FULLSCREEN ERROR\");\r\n\r\n            console.log(event);\r\n\r\n        }\r\n\r\n        this.fullscreenMenu.getMenuText().on(\"pointerdown\", () => {\r\n                if((<Screenfull>screenfull).enabled) {\r\n                    (<Screenfull>screenfull).toggle(_this.canvas);\r\n                }\r\n\r\n        });\r\n\r\n\r\n    }\r\n\r\n    update() : void {  }\r\n\r\n\r\n\r\n}","import { Carousel } from '../objects/carousel';\r\nimport { Menu } from '../objects/menu';\r\n\r\nexport class OptionScene extends Phaser.Scene {\r\n    \r\n    carousel : Carousel;\r\n\r\n    okMenu : Menu;\r\n\r\n    constructor() {\r\n        \r\n        super({\r\n            key : \"OptionScene\"\r\n        })\r\n    }\r\n    \r\n    preload() : void {}\r\n    \r\n    create() : void {\r\n        let _this = this;\r\n        \r\n        const options = this.cache.json.get(\"options\");\r\n\r\n        this.carousel = new Carousel(this, options, 400, -200);\r\n        this.okMenu = new Menu(this,400,-150,\"ok\", \"MainMenuScene\");\r\n\r\n        this.okMenu.getMenuText().on(\"pointerdown\", () => {\r\n\r\n            localStorage.setItem(\"resolution_width\", _this.carousel.getContentToSave().width);\r\n            localStorage.setItem(\"resolution_height\", _this.carousel.getContentToSave().height);\r\n            localStorage.setItem(\"resolution_ratio\", _this.carousel.getContentToSave().ratio);\r\n\r\n\r\n            // fs.writeFileSync('configuration/custom-config.json', this.carousel.getContentToSave); \r\n        });\r\n\r\n        this.cameras.main.startFollow(this.add.text(0, 0, 'It\\'s the options screen of the game').setOrigin(0.5), false);\r\n\r\n    }\r\n\r\n    update() : void {\r\n        \r\n    }\r\n}","import {ROOT_CONST} from \"../const/root.const\"\r\n\r\nexport class PreloadScene extends Phaser.Scene {\r\n\r\n    loadingBar : Phaser.GameObjects.Image;\r\n\r\n    constructor() {\r\n        super({\r\n            key : \"PreloadScene\"\r\n        });\r\n    }\r\n\r\n\r\n    preload() : void {\r\n        let _this=this;\r\n        this.loadingBar =  this.add.image(this.game.config.width as number / 2, this.game.config.height as number / 2, \"loading\");\r\n\r\n        /**********************************************/\r\n        /*****************JSON*************************/\r\n        /**********************************************/\r\n        this.load.json(\"options\",\"configuration/env-config.json\");\r\n        this.load.json(\"cards\",\"assets/json/cards.json\");\r\n        this.load.json(\"enemy\",\"assets/json/enemy.json\");\r\n        this.load.json(\"player\",\"assets/json/player.json\");\r\n\r\n        /**********************************************/\r\n        /*****************SPRITESHEET******************/\r\n        /**********************************************/\r\n        this.load.spritesheet('background', 'assets/background/BG_JEU.png',{ frameWidth: 1920, frameHeight: 1080 });\r\n\r\n        this.load.spritesheet('hero_idle', 'assets/sprites/hero_idle_sprite.png',{ frameWidth: 200, frameHeight: 300 });\r\n        this.load.spritesheet('hero_attack', 'assets/sprites/hero_attack_sprite.png',{ frameWidth: 200, frameHeight: 300 });\r\n        this.load.spritesheet('journey', 'assets/images/parcours.png',{ frameWidth: 1000, frameHeight: 100 });\r\n        this.load.spritesheet('parchment', 'assets/Cards/carte_texte.png',{ frameWidth: 350, frameHeight: 200 });\r\n        this.load.spritesheet('bulle_merchant', 'assets/animations/bulle_hero.png',{ frameWidth: 700, frameHeight: 600 });\r\n        this.load.spritesheet('bulle_hero', 'assets/animations/bulle_marchand.png',{ frameWidth: 700, frameHeight: 400 });\r\n\r\n\r\n            //Enemy\r\n        this.load.spritesheet('Spidy', 'assets/enemy/enemy_1.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Frodo', 'assets/enemy/enemy_2.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Razmo', 'assets/enemy/enemy_3.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Cultiz', 'assets/enemy/enemy_4.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Caspor', 'assets/enemy/enemy_5.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Bigznoise', 'assets/enemy/enemy_6.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Slid', 'assets/enemy/enemy_7.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Coweird', 'assets/enemy/enemy_8.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Chtoing', 'assets/enemy/enemy_9.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Spidhell', 'assets/enemy/enemy_11.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Grey Knight', 'assets/enemy/enemy_12.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Rapido', 'assets/enemy/enemy_13.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Cultist', 'assets/enemy/enemy_14.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Ghoulst', 'assets/enemy/enemy_15.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('IT', 'assets/enemy/enemy_16.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Solidsssssss', 'assets/enemy/enemy_17.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Mino', 'assets/enemy/enemy_18.png',{ frameWidth: 600, frameHeight: 600 });\r\n        this.load.spritesheet('Yogstot', 'assets/enemy/enemy_19.png',{ frameWidth: 600, frameHeight: 600 });\r\n        \r\n        this.load.spritesheet('Merchant', 'assets/enemy/shop_1.png',{ frameWidth: 600, frameHeight: 600 });\r\n\r\n            //Boost\r\n        this.load.spritesheet('boost_attack', 'assets/animations/boost_yellow.png',{ frameWidth: 500, frameHeight: 500 });\r\n        this.load.spritesheet('boost_armor', 'assets/animations/boost_green.png',{ frameWidth: 500, frameHeight: 500 });\r\n        this.load.spritesheet('boost_health', 'assets/animations/boost_red.png',{ frameWidth: 500, frameHeight: 500 });\r\n\r\n            //anim_attack\r\n        this.load.spritesheet('anim_attack_enemy', 'assets/animations/anim_attack_enemy.png',{ frameWidth: 500, frameHeight: 500 });\r\n        this.load.spritesheet('anim_attack_hero', 'assets/animations/anim_attack_hero.png',{ frameWidth: 500, frameHeight: 500 });\r\n\r\n            //Deck\r\n        this.load.spritesheet('deck', 'assets/images/deck.png',{ frameWidth: 200, frameHeight: 200 });\r\n\r\n        this.load.image(\"coeur\",'assets/images/coeur.png');\r\n        this.load.image(\"armor\",'assets/images/armor.png');\r\n        this.load.image(\"attack\",'assets/images/attack.png');\r\n        this.load.image(\"endround\",'assets/images/FinTour.png');\r\n        this.load.image(\"hand\",'assets/images/main.png');\r\n\r\n\r\n        this.load.image(\"Carte_1\",'assets/Cards/Carte_1.png');\r\n        this.load.image(\"Carte_2\",'assets/Cards/Carte_2.png');\r\n        this.load.image(\"Carte_3\",'assets/Cards/Carte_3.png');\r\n        this.load.image(\"Carte_4\",'assets/Cards/Carte_4.png');\r\n        this.load.image(\"Carte_5\",'assets/Cards/Carte_5.png');\r\n        this.load.image(\"Carte_6\",'assets/Cards/Carte_6.png');\r\n        this.load.image(\"Carte_7\",'assets/Cards/Carte_7.png');\r\n        this.load.image(\"Carte_8\",'assets/Cards/Carte_8.png');\r\n        this.load.image(\"Carte_9\",'assets/Cards/Carte_9.png');\r\n        this.load.image(\"Carte_10\",'assets/Cards/Carte_10.png');\r\n        \r\n        this.load.image(\"Carte_11\",'assets/Cards/Carte_11.png');\r\n        this.load.image(\"Carte_12\",'assets/Cards/Carte_12.png');\r\n        this.load.image(\"Carte_13\",'assets/Cards/Carte_13.png');\r\n        this.load.image(\"Carte_14\",'assets/Cards/Carte_14.png');\r\n        this.load.image(\"Carte_15\",'assets/Cards/Carte_15.png');\r\n        this.load.image(\"Carte_16\",'assets/Cards/Carte_16.png');\r\n        this.load.image(\"Carte_17\",'assets/Cards/Carte_17.png');\r\n        this.load.image(\"Carte_18\",'assets/Cards/Carte_18.png');\r\n        this.load.image(\"Carte_19\",'assets/Cards/Carte_19.png');\r\n        this.load.image(\"Carte_20\",'assets/Cards/Carte_20.png');\r\n\r\n        this.load.image(\"Carte_21\",'assets/Cards/Carte_21.png');\r\n        this.load.image(\"Carte_22\",'assets/Cards/Carte_22.png');\r\n        this.load.image(\"Carte_23\",'assets/Cards/Carte_23.png');\r\n        this.load.image(\"Carte_24\",'assets/Cards/Carte_24.png');\r\n        this.load.image(\"Carte_25\",'assets/Cards/Carte_25.png');\r\n        this.load.image(\"Carte_26\",'assets/Cards/Carte_26.png');\r\n        this.load.image(\"Carte_27\",'assets/Cards/Carte_27.png');\r\n        this.load.image(\"Carte_28\",'assets/Cards/Carte_28.png');\r\n        this.load.image(\"Carte_29\",'assets/Cards/Carte_29.png');\r\n        this.load.image(\"Carte_30\",'assets/Cards/Carte_30.png');\r\n\r\n        this.load.image(\"Carte_31\",'assets/Cards/Carte_31.png');\r\n        this.load.image(\"Carte_32\",'assets/Cards/Carte_32.png');\r\n        this.load.image(\"Carte_33\",'assets/Cards/Carte_33.png');\r\n        this.load.image(\"Carte_34\",'assets/Cards/Carte_34.png');\r\n        this.load.image(\"Carte_35\",'assets/Cards/Carte_35.png');\r\n        this.load.image(\"Carte_36\",'assets/Cards/Carte_36.png');\r\n        this.load.image(\"Carte_37\",'assets/Cards/Carte_37.png');\r\n        this.load.image(\"Carte_38\",'assets/Cards/Carte_38.png');\r\n        this.load.image(\"Carte_39\",'assets/Cards/Carte_39.png');\r\n        this.load.image(\"Carte_40\",'assets/Cards/Carte_40.png');\r\n\r\n        this.load.image(\"Carte_41\",'assets/Cards/Carte_41.png');\r\n        this.load.image(\"Carte_42\",'assets/Cards/Carte_42.png');\r\n        this.load.image(\"Carte_43\",'assets/Cards/Carte_43.png');\r\n        this.load.image(\"Carte_44\",'assets/Cards/Carte_44.png');\r\n        this.load.image(\"Carte_45\",'assets/Cards/Carte_45.png');\r\n        this.load.image(\"Carte_46\",'assets/Cards/Carte_46.png');\r\n        this.load.image(\"Carte_47\",'assets/Cards/Carte_47.png');\r\n        this.load.image(\"Carte_48\",'assets/Cards/Carte_48.png');\r\n        this.load.image(\"Carte_49\",'assets/Cards/Carte_49.png');\r\n\r\n       //Music\r\n\r\n        this.load.audio('game', ['assets/music/game.mp3']);\r\n        this.load.audio('gametitle', ['assets/music/gametitle.mp3']);\r\n        this.load.audio('gameend', ['assets/music/gameend.mp3']);\r\n        this.load.audio('gameover', ['assets/music/gameover.mp3']);\r\n        this.load.audio('gameshop', ['assets/music/gameshop.mp3']);\r\n\r\n        this.load.audio('boost1', ['assets/music/boost1.mp3']);\r\n        this.load.audio('boost2', ['assets/music/boost2.mp3']);\r\n        this.load.audio('boost3', ['assets/music/boost3.mp3']);\r\n\r\n        this.load.audio('carte', ['assets/music/carte.mp3']);\r\n\r\n        this.load.audio('epee', ['assets/music/pe.mp3']);\r\n\r\n        this.load.audio('monster_attack', ['assets/music/monster_attack.mp3']);\r\n        this.load.audio('monster_cri', ['assets/music/monster_cri.mp3']);\r\n\r\n        this.load.audio('noselect', ['assets/music/noselect.mp3']);\r\n        this.load.audio('select', ['assets/music/select.mp3']);\r\n        \r\n        this.load.audio('poison', ['assets/music/poison.mp3']);\r\n\r\n        this.load.audio('stun', ['assets/music/stun.mp3']);\r\n\r\n\r\n\r\n\r\n\r\n        this.load.on('progress', (value : number) => {\r\n            _this.loadingBar.setCrop(0, 0,525 * value, 900);\r\n        });\r\n    }\r\n\r\n    create() : void {\r\n\r\n        setTimeout(() => {\r\n            this.scene.start(\"MainMenuScene\");\r\n\r\n        }, 2000);\r\n    }\r\n\r\n    update() : void { }\r\n}","import { Player } from '../objects/player';\r\nimport { Card } from '../objects/card';\r\nimport {Utils} from './utils';\r\n\r\n\r\nexport class CardService {\r\n\r\n  isPlayed(player: Player, card: Card) {\r\n\r\n    // console.log(player);\r\n    // console.log(card);\r\n    if(player.getIsStuned()){\r\n      return false;\r\n    }\r\n\r\n    if (player.getCurrentActionPoint() < card.cost) {\r\n      return false;\r\n    }\r\n\r\n    player.setCurrentActionPoint(player.getCurrentActionPoint() - card.cost);\r\n\r\n    player.setCurrentAttack(player.getCurrentAttack() + card.attack);\r\n    player.setCurrentArmor(player.getCurrentArmor() + card.armor);\r\n    player.setCurrentHealth(player.getCurrentHealth() + card.heal);\r\n\r\n    player.setNextAttackEffects(player.getNextAttackEffects().concat(card.effects));\r\n\r\n    player.getHand().splice(player.getHand().indexOf(card), 1);\r\n    player.getDiscard().push(card);\r\n\r\n    return true;\r\n  }\r\n\r\n  createDeck(cards: Array<Card>): Card[] {\r\n    return Utils.shuffle([cards[0], cards[0], cards[1], cards[1], cards[1], cards[1], cards[2], cards[2], cards[3], cards[3], cards[4], cards[5], cards[3], cards[2], cards[9]]);\r\n  }\r\n}\r\n\r\n","import { Enemy } from '../objects/enemy';\r\nimport { EnemyAction } from '../objects/enemyAction';\r\n\r\nexport class EnemyActionService {\r\n\r\n  isUsed(enemy: Enemy, action: EnemyAction){\r\n    if(enemy.getIsStuned()){\r\n      return false;\r\n    }\r\n\r\n    enemy.setCurrentAttack(enemy.getCurrentAttack() + action.attack);\r\n    enemy.setCurrentArmor(enemy.getCurrentArmor() + action.armor);\r\n    enemy.setCurrentHealth(enemy.getCurrentHealth() + action.heal);\r\n\r\n    enemy.setNextAttackEffects(enemy.getNextAttackEffects().concat(action.effects));\r\n\r\n    return true;\r\n  }\r\n}\r\n","import { MerchantOption } from '../objects/merchantOption';\r\nimport { Card } from '../objects/card';\r\nimport { Utils } from './utils';\r\nimport { Player } from '../objects/player';\r\n\r\nexport class MerchantService {\r\n  createOptions(cards: Card[]) {\r\n    let option1 = new MerchantOption({\r\n      text: \"For a small part of your life, you can have a card.\",\r\n      cards: [cards[Utils.getRandomInt(cards.length)]],\r\n      cardsHidden: false,\r\n      cost: 1\r\n    });\r\n\r\n    let option2 = new MerchantOption({\r\n      text: \"For a moderate part of your life, you can have three cards.\",\r\n      cards: [\r\n        cards[Utils.getRandomInt(cards.length)],\r\n        cards[Utils.getRandomInt(cards.length)],\r\n        cards[Utils.getRandomInt(cards.length)]\r\n      ],\r\n      cardsHidden: true,\r\n      cost: 2\r\n    });\r\n\r\n    let option3 = new MerchantOption({\r\n      text: \"For a large part of your life, you can have five card.\",\r\n      cards: [\r\n        cards[Utils.getRandomInt(cards.length)],\r\n        cards[Utils.getRandomInt(cards.length)],\r\n        cards[Utils.getRandomInt(cards.length)],\r\n        cards[Utils.getRandomInt(cards.length)],\r\n        cards[Utils.getRandomInt(cards.length)]\r\n      ],\r\n      cardsHidden: true,\r\n      cost: 3\r\n    });\r\n\r\n    let text = \"Welcome to the Shop ! Here you can trade your life to get cards.\";\r\n    text += \"\\n1 : \" + option1.text;\r\n    text += \"\\n2 : \" + option2.text;\r\n    text += \"\\n3 : \" + option3.text;\r\n    text += \"\\nChoose carefully !\";\r\n    return {\r\n      \"text\": text,\r\n      \"options\": [option1, option2, option3]\r\n    };\r\n  }\r\n\r\n  chooseOption(player: Player, option: MerchantOption) {\r\n    for(let card of option.cards){\r\n      player.getDeck().push(card);\r\n    }\r\n    player.setMaxHealth(player.getMaxHealth() - option.cost);\r\n    player.setCurrentHealth(player.getMaxHealth());\r\n    player.setDeck(Utils.shuffle(player.getDeck()));\r\n  }\r\n}\r\n","import { Character } from '../objects/character';\r\nimport { Player } from '../objects/player';\r\nimport { Enemy } from '../objects/enemy';\r\nimport { Effect } from '../objects/effect';\r\nimport { EffectCondition } from '../objects/effectCondition';\r\nimport { EnemyActionService } from '../services/enemyAction.service'\r\n\r\nimport { Utils } from './utils';\r\n\r\nexport class RoundService {\r\n\r\n  enemyActionService: EnemyActionService = new EnemyActionService();\r\n\r\n  initPlayerForBattle(player: Player) {\r\n    player.setCurrentActionPoint(player.getMaxActionPoint());\r\n    player.setCurrentHealth(player.getMaxHealth());\r\n    player.setDeck(Utils.shuffle(player.getDeck().concat(player.getDiscard().concat(player.getHand()))));\r\n    player.setDiscard([]);\r\n    player.setHand([]);\r\n  }\r\n\r\n  startRoundPlayer(player: Player, enemy: Enemy) {\r\n    console.log(player);\r\n    console.log(enemy);\r\n    draw(player, 5);\r\n    player.setCurrentActionPoint(player.getMaxActionPoint());\r\n    resetStats(player);\r\n    applyEffects(player, enemy);\r\n  }\r\n\r\n  endRoundPlayer(player: Player, enemy: Enemy) {\r\n    inflictDamage(player, enemy);\r\n    inflictEffects(player, enemy, player.getNextAttackEffects());\r\n    player.setNextAttackEffects([]);\r\n  }\r\n\r\n  startRoundEnemy(player: Player, enemy: Enemy) {\r\n    console.log(player);\r\n\r\n    console.log(enemy);\r\n\r\n    resetStats(enemy);\r\n    applyEffects(enemy, player);\r\n  }\r\n\r\n  roundEnemy(enemy: Enemy) {\r\n    let action = enemy.actions[Utils.getRandomInt(enemy.actions.length)];\r\n    this.enemyActionService.isUsed(enemy, action);\r\n  }\r\n\r\n  endRoundEnemy(player: Player, enemy: Enemy) {\r\n    inflictDamage(enemy, player);\r\n    inflictEffects(player, enemy, enemy.getNextAttackEffects());\r\n    enemy.setNextAttackEffects([]);\r\n  }\r\n}\r\n\r\nfunction draw(player: Player, n: number) {\r\n  while (player.getHand().length > 0) {\r\n    player.getDiscard().push(player.getHand().pop());\r\n  }\r\n\r\n  for (let i = n; i > 0; i--) {\r\n    if (player.getDeck().length <= 0) {\r\n      player.setDeck(Utils.shuffle(player.getDiscard()));\r\n      player.setDiscard([]);\r\n    }\r\n    player.getHand().push(player.getDeck().pop())\r\n  }\r\n}\r\n\r\nfunction resetStats(caracter: Character) {\r\n  caracter.setIsStuned(false);\r\n  caracter.setCurrentAttack(1);\r\n  caracter.setCurrentArmor(0);\r\n}\r\n\r\nfunction applyEffects(character1: Character, character2: Character) {\r\n  for (let effect of character1.getEffects()) {\r\n    if (effect.delay === 0) {\r\n      if (effect.duration > 0) {\r\n        effect.duration--;\r\n        if (effect.type === 'boost') {\r\n          character1.setCurrentAttack(character1.getCurrentAttack() + effect.attack);\r\n          character1.setCurrentArmor(character1.getCurrentArmor() + effect.armor);\r\n          character1.setCurrentHealth(character1.getCurrentHealth() + effect.health);\r\n        }\r\n        if (effect.type === 'stun') {\r\n          character1.setIsStuned(true);\r\n        }\r\n        if (effect.type === 'immune') {\r\n          character1.setIsImmune(true);\r\n        }\r\n        if (effect.type === 'protect') {\r\n          character1.setIsProtected(true);\r\n        }\r\n        if (effect.type === 'poison' && !character1.getIsImmune()) {\r\n          let poisonDamage = (character2.getCurrentAttack() - character1.getCurrentArmor()) / 2;\r\n          character1.setCurrentHealth(character1.getCurrentHealth() - poisonDamage);\r\n        }\r\n      } else {\r\n        character1.getEffects().splice(character1.getEffects().indexOf(effect), 1);\r\n      }\r\n    } else {\r\n      effect.delay--;\r\n    }\r\n  }\r\n}\r\n\r\nfunction inflictDamage(character1: Character, character2: Character) {\r\n  let attackDamage = character1.getCurrentAttack() - character2.getCurrentArmor();\r\n  attackDamage = attackDamage > 0 ? attackDamage : 0;\r\n  attackDamage = character1.getIsProtected() ? attackDamage / 2 : attackDamage;\r\n  character2.setCurrentHealth(character2.getCurrentHealth() - attackDamage);\r\n}\r\n\r\nfunction inflictEffects(player: Player, enemy: Enemy, effects: Effect[]) {\r\n  for (let effect of effects) {\r\n    if (areConditionsFullfiled(player, enemy, effect.conditions)) {\r\n      if (effect.probability > Utils.getRandomInt(99)) {\r\n        if (effect.target === 'enemy') {\r\n          if (effect.type === 'boost') {\r\n            enemy.getEffects().unshift(effect);\r\n          } else {\r\n            enemy.getEffects().push(effect);\r\n          }\r\n        } else {\r\n          if (effect.type === 'boost') {\r\n            player.getEffects().unshift(effect);\r\n          } else {\r\n            player.getEffects().push(effect);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction areConditionsFullfiled(player: Player, enemy: Enemy, conditions: EffectCondition[]) {\r\n  if (conditions.length > 0) {\r\n    for (let condition of conditions) {\r\n      if (condition.type === 'state' && condition.caracteristic === 'stun') {\r\n        if ((condition.target === 'enemy' && !enemy.getIsStuned())\r\n          || (condition.target === 'player' && !player.getIsStuned())) {\r\n          return false;\r\n        }\r\n      }\r\n      if (condition.type === 'state' && condition.caracteristic === 'immune') {\r\n        if ((condition.target === 'enemy' && !enemy.getIsImmune())\r\n          || (condition.target === 'player' && !player.getIsImmune())) {\r\n          return false;\r\n        }\r\n      }\r\n      if (condition.type === 'state' && condition.caracteristic === 'protected') {\r\n        if ((condition.target === 'enemy' && !enemy.getIsProtected())\r\n          || (condition.target === 'player' && !player.getIsProtected())) {\r\n          return false;\r\n        }\r\n      }\r\n      if (condition.type === 'stats' && condition.caracteristic === 'attack') {\r\n        if ((condition.target === 'enemy' && !(enemy.getCurrentAttack() > condition.value))\r\n          || (condition.target === 'player' && !(player.getCurrentAttack() > condition.value))) {\r\n          return false;\r\n        }\r\n      }\r\n      if (condition.type === 'stats' && condition.caracteristic === 'armor') {\r\n        if ((condition.target === 'enemy' && !(enemy.getCurrentArmor() > condition.value))\r\n          || (condition.target === 'player' && !(player.getCurrentArmor() > condition.value))) {\r\n          return false;\r\n        }\r\n      }\r\n      if (condition.type === 'stats' && condition.caracteristic === 'health') {\r\n        if ((condition.target === 'enemy' && !(enemy.getCurrentHealth() > condition.value))\r\n          || (condition.target === 'player' && !(player.getCurrentHealth() > condition.value))) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n","export class Utils {\r\n\r\n\r\n    static shuffle(array) {\r\n        var currentIndex = array.length, temporaryValue, randomIndex;\r\n      \r\n        // While there remain elements to shuffle...\r\n        while (0 !== currentIndex) {\r\n      \r\n          // Pick a remaining element...\r\n          randomIndex = Math.floor(Math.random() * currentIndex);\r\n          currentIndex -= 1;\r\n      \r\n          // And swap it with the current element.\r\n          temporaryValue = array[currentIndex];\r\n          array[currentIndex] = array[randomIndex];\r\n          array[randomIndex] = temporaryValue;\r\n        }\r\n      \r\n        return array;\r\n      }\r\n    static getRandomInt(max) {\r\n        return Math.floor(Math.random() * Math.floor(max));\r\n      }\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  title: \"LD44 wech\",\r\n  version : \"1.0.1\"\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}